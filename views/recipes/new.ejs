<%- include('../partials/header') %>
<head><script defer src="/JS/main.js"></script></head>

    <h2>
        Add Recipe
    </h2>
    <nav>
        <ul>
            <li><a href="/recipes">Back to Recipes</a></li>
        </ul>
    </nav>

<form action="/recipes" method="POST" class="recipe-form">
    <label for="name">Recipe Name:</label>
    <input type="text" name="name" required>

    <label for="serves">Serves:</label>
    <input type="number" name="serves">

    <div class="ingredients-container">
        <label for="ingredients">Ingredients:</label><br />
        <div class="ingt-info">
            <select name="ingredients[]" class="select-ingt">
                <% userInventory.forEach((product) => { %>
                    <option value="<%= product.productName %>" name="product[]" class="ingt-options"><%= product.productName %></option>
                    <% }) %>
            </select>
            <input type="number" step="0.0001" name="quantityRequired[]" placeholder="Quantity (kg/L)" class="add-qty">
            <button type="button" class="remove-ingt-btn">-</button>
        </div>
    </div>
    <button type="button" class="add-ingt-btn">+</button>

    <div class="method-container">
        <label>Method:</label>
        <div class="method-step">
            <input type="text" name="method[]" placeholder="Step 1." class="method-input"></input>
            <button type="button" class="remove-step-btn">-</button>
        </div>
    </div>
    <button type="button" class="add-step-btn">+</button><br />
    <button type="submit">Add Recipe</button>
</form>

<%- include('../partials/footer') %>